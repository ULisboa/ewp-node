# If using the provided DEV Docker image then ONLY edit the bootstrap/plugins sections.

# DO NOT edit if using the provided DEV Docker image
server:
  port: 8443
  ssl:
    enabled: true
    key-store: classpath:keystore/localhost.p12 # REPLACE with the correct keystore file path
    key-store-password: p@ssw0rd # REPLACE with the correct keystore password
    key-alias: dev # REPLACE with the correct keystore alias
    client-auth: want # "want" in order to allow client requests without embedded client certificate

# DO NOT edit if using the provided DEV Docker image
registry:
  url: localhost:8000
  autoRefresh: true
  timeBetweenRetriesInMilliseconds: 3000
  minTimeBetweenQueries: 3000

# EDIT this section accordingly.
bootstrap:
  # Hosts are bootstrapped if no host is currently defined on DB
  hosts:
    - code: ulisboa
      description: University of Lisbon
      adminEmail: admin@example.com
      adminNotes: Sample host
      adminProvider: Sample Provider (EWP Node)
      # Configuration of the Forward EWP APIs
      forwardEwpApi:
        # OPTIONAL
        # A list of clients that are able to use the Forward EWP APIs
        clients:
          # Each client has an ID and a secret.
          # The ID must be used as "iss" (issuer) of the JWT token used for authentication
          # for the Forward EWP APIs.
          # The ID must be unique among all clients, independent of the host.
          # The secret is used when generating a JWT token.
          # This secret key is used by the EWP node to assert that the received JWT token
          # was effectively produced by the client.
          # Hence, both host and EWP node must know this secret.
          - id: client-1
            secret: sample-host-forward-ewp-api-secret-1
          - id: client-2
            secret: sample-host-forward-ewp-api-secret-2
      coveredHeis:
        - schacCode: ulisboa.pt
          names:
            - locale: pt-PT
              value: Universidade de Lisboa
            - locale: en
              value: University of Lisbon
          otherHeiIds:
            - type: pic
              value: 949885305
            - type: erasmus
              value: P  LISBOA109
            - type: erasmus-charter
              value: 269558-EPP-1-2015-1-PT-EPPKA3-ECHE

plugins:
  # Set the path to the plugins directory
  path: /plugins/

  # Variables may be defined per host plugin
  # For instance, in the example below, a property example.key belonging to a plugin with ID
  # ewp-host-plugin-demo is defined.
  ewp-host-plugin-demo:
    example:
      key: test